## Решение
Очевидно, что ответ, если он не -1, состоит из путей от src1 и src2 до dest. Это утверждение можно сделать более жестким. Ответ представляется в виде трех путей (возможно, пустых) - путей от src1 и src2 до некоторой вершины v и пути от вершины v до dest. Этот переход по сути просто отбрасывает ситуации, в которых пути от src1 и src2 до dest пересекаются по вершине, а затем снова разветвляются - в этих случаях, очевидно, можно откинуть ребра в одном из путей после пересечения.

Вооружившись этим утверждением, переберем вершину v и посчитаем минимум по [(distance(src1, v) + distance(src2, v) + distance(v, dest)]. Это можно сделать за $O(N)$ с предподсчетом за $O(N \log N)$. Предподсчетом мы найдем при помощи алгоритма Дейкстры расстояния от src1 и src2 до всех остальных вершин - это даст нам знание о distance(src1, v) и distance(src2, v). Чтобы быстро узнавать distance(v, dest), развернем ребра в графе и запустим алгоритм Дейкстры от dest - очевидно, это даст нам массив нужных расстояний distance_reversed(dest, v) = distance(v, dest)