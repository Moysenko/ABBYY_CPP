## Решение
Это вариация задачки о рюкзаке. Заведем динамику $dp_s$ - минимальное количество монет, необходимое чтобы набрать сумму $s$ (и -1, если это невозможно). 

Посчитаем эту динамику, предполагая, что из доступных величин у нас только $coins_0$. Затем обновим все значения в динамике, предположив, что нам доступны только [$coins_0, coins_1$] - то есть "добавим" к динамике монету $coins_1$. И так далее

Заметим, что решение задачи с монетой $coins_0$ - по сути "добавление" к пустой динамике, то есть к $\forall s: dp_s = -1, dp_0 = 0$

Как "добавлять". Пусть к монеткам $coins$ мы добавляем монетку со значением $C$, старые значения динамики лежат в $old_s$, новые мы хотим записать в $new_s$. Посчитаем $new_i$. $i$ может быть представлено как сумма $k$ монеток значения C и сумма каких-то монеток из $coins$. Мы уже умеем представлять $i - k \cdot C$ наименьшим возможным количеством монеток из $coins$ - это $old_{i - k \cdot C}$. Тогда перебрав все возможные способы заиспользовать монетку $C$, мы можем получить $new_s = \min\limits_{0 \leq k \leq \lfloor i / C \rfloor} (old_{i - k \cdot C} + k)$

Пока что это работает за что-то вроде $O(|coins| \cdot amount^2)$ - считаем $|coins| * amount$ раз описанный выше минимум. Можно легко избавиться от квадрата. Заметим, что БОО $\min\limits_{0 \leq k \leq \lfloor i / C \rfloor} (old_{i - k \cdot C} + k) = min(new_{i - C} + 1, old_i)$

Получили $O(|coins| \cdot amount)$. В реализации достаточно очевидным образом можно переиспользовать один и тот же массив размера $amount$ на каждое "добавление" - так что по памяти будет $O(amount)$
